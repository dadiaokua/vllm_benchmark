nohup: ignoring input
--- Starting vLLM Benchmark ---
vLLM URL: http://222.201.144.119:8000/v1
API Key: http://222.201.144.120:8000/v1
Request Timeout: 20
Short QPS: 10 100
Short Client QPS Ratio: 1
Long QPS: 20
Long Client QPS Ratio: 1
Distribution: normal
Concurrency: 1
Num Requests: 100
Short Clients: 2
Short Clients SLO: 7 15
Long Clients: 1
Long Clients SLO: 7
Sleep Time: 1
Local Port: 8000
Remote Port: 10085
Use Time Data: 0
Round Num: 10
Round Time: 200
Experiment Name: LFS
Use Tunnel: 0
Tokenizer Path: /home/llm/model_hub/Qwen2.5-32B-Instruct/
Model Name: Qwen2.5-32B
---
2025-06-11 08:20:00,533 INFO: 
Benchmark Configuration:
2025-06-11 08:20:00,534 INFO: ------------------------
2025-06-11 08:20:00,534 INFO: vllm_url: ['http://222.201.144.119:8000/v1']
2025-06-11 08:20:00,534 INFO: use_tunnel: 0
2025-06-11 08:20:00,534 INFO: api_key: http://222.201.144.120:8000/v1
2025-06-11 08:20:00,534 INFO: distribution: normal
2025-06-11 08:20:00,534 INFO: short_qpm: ['10 100']
2025-06-11 08:20:00,534 INFO: short_client_qpm_ratio: 1.0
2025-06-11 08:20:00,534 INFO: long_qpm: ['20']
2025-06-11 08:20:00,534 INFO: long_client_qpm_ratio: 1.0
2025-06-11 08:20:00,534 INFO: concurrency: 1
2025-06-11 08:20:00,534 INFO: num_requests: 100
2025-06-11 08:20:00,534 INFO: short_clients: 2
2025-06-11 08:20:00,534 INFO: short_clients_slo: ['7 15']
2025-06-11 08:20:00,534 INFO: long_clients: 1
2025-06-11 08:20:00,534 INFO: long_clients_slo: ['7']
2025-06-11 08:20:00,534 INFO: sleep: 1
2025-06-11 08:20:00,534 INFO: local_port: [8000]
2025-06-11 08:20:00,534 INFO: remote_port: [10085]
2025-06-11 08:20:00,534 INFO: use_time_data: 0
2025-06-11 08:20:00,534 INFO: request_timeout: 20
2025-06-11 08:20:00,534 INFO: round: 10
2025-06-11 08:20:00,534 INFO: round_time: 200
2025-06-11 08:20:00,534 INFO: exp: LFS
2025-06-11 08:20:00,534 INFO: tokenizer: /home/llm/model_hub/Qwen2.5-32B-Instruct/
2025-06-11 08:20:00,534 INFO: request_model_name: Qwen2.5-32B
2025-06-11 08:20:00,534 INFO: ------------------------

2025-06-11 08:20:01,075 INFO: Processed short_qpm: ['10', '100']
2025-06-11 08:20:01,075 INFO: Processed long_qpm: ['20']
2025-06-11 08:20:01,076 INFO: Processed short_clients_slo: ['7', '15']
2025-06-11 08:20:01,076 INFO: Processed long_clients_slo: ['7']
2025-06-11 08:20:01,076 INFO: Creating short client 0: qpm=10.0, slo=7.0
2025-06-11 08:20:01,077 INFO: Creating short client 1: qpm=100.0, slo=15.0
2025-06-11 08:20:01,078 INFO: Starting benchmark round 0 run with QPS=10.0, output_tokens=256
2025-06-11 08:20:01,078 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 08:20:01,078 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:20:01,078 INFO: Benchmark started at 2025-06-11 08:20:01
2025-06-11 08:20:01,078 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 08:20:01,078 INFO: Total formatted JSON size: 10000
2025-06-11 08:20:01,078 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:20:01,082 INFO: Waiting for all workers to complete
2025-06-11 08:20:01,082 INFO: Starting benchmark round 0 run with QPS=100.0, output_tokens=256
2025-06-11 08:20:01,082 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 08:20:01,082 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:20:01,082 INFO: Benchmark started at 2025-06-11 08:20:01
2025-06-11 08:20:01,082 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 08:20:01,082 INFO: Total formatted JSON size: 10000
2025-06-11 08:20:01,082 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:20:01,086 INFO: Waiting for all workers to complete
2025-06-11 08:20:01,086 INFO: Starting benchmark round 0 run with QPS=20.0, output_tokens=256
2025-06-11 08:20:01,086 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 08:20:01,086 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:20:01,086 INFO: Benchmark started at 2025-06-11 08:20:01
2025-06-11 08:20:01,086 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 08:20:01,086 INFO: Total formatted JSON size: 10000
2025-06-11 08:20:01,086 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:20:01,090 INFO: Waiting for all workers to complete
2025-06-11 08:20:01,090 - ExperimentMonitor-LFS - INFO - Starting monitor for LFS experiment with 3 clients
2025-06-11 08:20:01,187 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:20:01,187 INFO: Generated 24 request times in 160s window, buffer: 40s
2025-06-11 08:20:01,187 INFO: Last request at: 133.08s, buffer remaining: 26.92s
2025-06-11 08:20:01,188 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:20:01,189 INFO: Generated 251 request times in 160s window, buffer: 40s
2025-06-11 08:20:01,190 INFO: Last request at: 150.13s, buffer remaining: 9.87s
2025-06-11 08:20:01,190 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:20:01,190 INFO: Generated 46 request times in 160s window, buffer: 40s
2025-06-11 08:20:01,190 INFO: Last request at: 158.16s, buffer remaining: 1.84s
2025-06-11 08:22:14,304 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 66.88 seconds
2025-06-11 08:22:31,316 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 49.87 seconds
2025-06-11 08:22:39,348 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 41.84 seconds
2025-06-11 08:23:21,190 INFO: Total tasks: 24, Completed: 24
2025-06-11 08:23:21,190 INFO: Task completion rate: 100.00%
2025-06-11 08:23:21,190 INFO: Total tokens processed: 5050
2025-06-11 08:23:21,191 INFO: Total elapsed time: 200.00 seconds, Round time: 200.00 seconds, More than round time: 0.00 seconds
2025-06-11 08:23:21,191 INFO: Total requests succeeded: 24
2025-06-11 08:23:21,192 INFO: Benchmark ended at 2025-06-11 08:23:21, total time: 200.11s
2025-06-11 08:23:23,201 INFO: Starting benchmark round 1 run with QPS=10.0, output_tokens=256
2025-06-11 08:23:23,202 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 08:23:23,202 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:23:23,202 INFO: Benchmark started at 2025-06-11 08:23:23
2025-06-11 08:23:23,202 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 08:23:23,202 INFO: Total formatted JSON size: 10000
2025-06-11 08:23:23,202 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:23:23,213 INFO: Waiting for all workers to complete
2025-06-11 08:23:23,213 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:23:23,213 INFO: Generated 23 request times in 160s window, buffer: 40s
2025-06-11 08:23:23,213 INFO: Last request at: 154.83s, buffer remaining: 5.17s
2025-06-11 08:23:25,756 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 08:23:25,757 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 08:23:25,757 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 08:24:38,266 INFO: Total tasks: 46, Completed: 46
2025-06-11 08:24:38,267 INFO: Task completion rate: 100.00%
2025-06-11 08:24:38,267 INFO: Total tokens processed: 10391
2025-06-11 08:24:38,267 INFO: Total elapsed time: 277.08 seconds, Round time: 200.00 seconds, More than round time: 77.08 seconds
2025-06-11 08:24:38,267 INFO: Total requests succeeded: 46
2025-06-11 08:24:38,267 INFO: Benchmark ended at 2025-06-11 08:24:38, total time: 277.18s
2025-06-11 08:24:40,276 INFO: Starting benchmark round 1 run with QPS=20.0, output_tokens=256
2025-06-11 08:24:40,276 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 08:24:40,276 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:24:40,276 INFO: Benchmark started at 2025-06-11 08:24:40
2025-06-11 08:24:40,276 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 08:24:40,277 INFO: Total formatted JSON size: 10000
2025-06-11 08:24:40,277 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:24:40,287 INFO: Waiting for all workers to complete
2025-06-11 08:24:40,287 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:24:40,288 INFO: Generated 50 request times in 160s window, buffer: 40s
2025-06-11 08:24:40,288 INFO: Last request at: 156.93s, buffer remaining: 3.07s
2025-06-11 08:24:42,447 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 08:24:42,448 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 08:24:42,448 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 08:25:58,045 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 45.17 seconds
2025-06-11 08:26:43,214 INFO: Total tasks: 23, Completed: 23
2025-06-11 08:26:43,214 INFO: Task completion rate: 100.00%
2025-06-11 08:26:43,214 INFO: Total tokens processed: 5237
2025-06-11 08:26:43,214 INFO: Total elapsed time: 200.00 seconds, Round time: 200.00 seconds, More than round time: 0.00 seconds
2025-06-11 08:26:43,214 INFO: Total requests succeeded: 23
2025-06-11 08:26:43,215 INFO: Benchmark ended at 2025-06-11 08:26:43, total time: 200.01s
2025-06-11 08:27:17,215 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 43.07 seconds
2025-06-11 08:29:22,506 INFO: Total tasks: 50, Completed: 50
2025-06-11 08:29:22,506 INFO: Task completion rate: 100.00%
2025-06-11 08:29:22,506 INFO: Total tokens processed: 11023
2025-06-11 08:29:22,506 INFO: Total elapsed time: 282.22 seconds, Round time: 200.00 seconds, More than round time: 82.22 seconds
2025-06-11 08:29:22,507 INFO: Total requests succeeded: 50
2025-06-11 08:29:22,507 INFO: Benchmark ended at 2025-06-11 08:29:22, total time: 282.23s
2025-06-11 08:41:57,906 INFO: Total tasks: 251, Completed: 251
2025-06-11 08:41:57,907 INFO: Task completion rate: 100.00%
2025-06-11 08:41:57,907 INFO: Total tokens processed: 56735
2025-06-11 08:41:57,907 INFO: Total elapsed time: 1316.72 seconds, Round time: 200.00 seconds, More than round time: 1116.72 seconds
2025-06-11 08:41:57,908 INFO: Total requests succeeded: 251
2025-06-11 08:41:57,908 INFO: Benchmark ended at 2025-06-11 08:41:57, total time: 1316.83s
2025-06-11 08:41:59,918 INFO: Starting benchmark round 1 run with QPS=100.0, output_tokens=256
2025-06-11 08:41:59,918 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 08:41:59,918 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:41:59,919 INFO: Benchmark started at 2025-06-11 08:41:59
2025-06-11 08:41:59,919 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 08:41:59,919 INFO: Total formatted JSON size: 10000
2025-06-11 08:41:59,919 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:41:59,929 INFO: Waiting for all workers to complete
2025-06-11 08:41:59,930 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:41:59,931 INFO: Generated 256 request times in 160s window, buffer: 40s
2025-06-11 08:41:59,931 INFO: Last request at: 159.71s, buffer remaining: 0.29s
2025-06-11 08:42:00,453 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 08:42:00,453 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 08:42:00,454 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.5284774692065053, [{'service': 14407, 'client': 'short_0'}, {'service': 146511, 'client': 'short_1'}, {'service': 27703, 'client': 'long_0'}]
2025-06-11 08:42:00,454 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 08:42:00,455 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 08:42:00,455 - ExperimentMonitor-LFS - INFO - Saving results... 0.5284774692065053, [{'service': 14407, 'client': 'short_0'}, {'service': 146511, 'client': 'short_1'}, {'service': 27703, 'client': 'long_0'}], 1
2025-06-11 08:42:00,455 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.5284774692065053, [{'service': 14407, 'client': 'short_0'}, {'service': 146511, 'client': 'short_1'}, {'service': 27703, 'client': 'long_0'}]
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 08:42:00,456 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0005 秒
  最长时间: 0.0005 秒
  最短时间: 0.0005 秒
  执行次数: 1
_adjust_fairness:
  平均时间: 0.0009 秒
  最长时间: 0.0009 秒
  最短时间: 0.0009 秒
  执行次数: 1
_save_results:
  平均时间: 0.0008 秒
  最长时间: 0.0008 秒
  最短时间: 0.0008 秒
  执行次数: 1
_reset_clients:
  平均时间: 0.0005 秒
  最长时间: 0.0005 秒
  最短时间: 0.0005 秒
  执行次数: 1
==============

2025-06-11 08:42:00,457 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 08:42:02,565 INFO: Starting benchmark round 2 run with QPS=10.0, output_tokens=256
2025-06-11 08:42:02,565 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 08:42:02,565 INFO: Time ratio: 1.2704998259516351, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:42:02,566 INFO: Benchmark started at 2025-06-11 08:42:02
2025-06-11 08:42:02,566 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 08:42:02,566 INFO: Total formatted JSON size: 10000
2025-06-11 08:42:02,566 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:42:02,577 INFO: Waiting for all workers to complete
2025-06-11 08:42:02,577 INFO: Starting benchmark round 2 run with QPS=20.0, output_tokens=256
2025-06-11 08:42:02,577 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 08:42:02,577 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 08:42:02,577 INFO: Benchmark started at 2025-06-11 08:42:02
2025-06-11 08:42:02,577 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 08:42:02,577 INFO: Total formatted JSON size: 10000
2025-06-11 08:42:02,577 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 08:42:02,588 INFO: Waiting for all workers to complete
2025-06-11 08:42:02,588 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:42:02,588 INFO: Generated 24 request times in 160s window, buffer: 40s
2025-06-11 08:42:02,588 INFO: Last request at: 144.41s, buffer remaining: 15.59s
2025-06-11 08:42:02,589 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 08:42:02,589 INFO: Generated 51 request times in 160s window, buffer: 40s
2025-06-11 08:42:02,589 INFO: Last request at: 157.19s, buffer remaining: 2.81s
2025-06-11 08:42:05,564 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 08:42:05,564 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 08:42:05,564 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 08:42:10,658 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 08:42:10,659 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 08:42:10,659 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 08:44:27,002 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 55.59 seconds
2025-06-11 08:44:39,636 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 40.29 seconds
2025-06-11 08:44:39,783 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 42.81 seconds
2025-06-11 08:45:22,590 INFO: Total tasks: 24, Completed: 24
2025-06-11 08:45:22,590 INFO: Task completion rate: 100.00%
2025-06-11 08:45:22,590 INFO: Total tokens processed: 5885
2025-06-11 08:45:22,590 INFO: Total elapsed time: 200.00 seconds, Round time: 200.00 seconds, More than round time: 0.00 seconds
2025-06-11 08:45:22,591 INFO: Total requests succeeded: 24
2025-06-11 08:45:22,591 INFO: Benchmark ended at 2025-06-11 08:45:22, total time: 200.03s
2025-06-11 08:46:35,950 INFO: Total tasks: 51, Completed: 51
2025-06-11 08:46:35,950 INFO: Task completion rate: 100.00%
2025-06-11 08:46:35,950 INFO: Total tokens processed: 10437
2025-06-11 08:46:35,950 INFO: Total elapsed time: 273.36 seconds, Round time: 200.00 seconds, More than round time: 73.36 seconds
2025-06-11 08:46:35,951 INFO: Total requests succeeded: 51
2025-06-11 08:46:35,951 INFO: Benchmark ended at 2025-06-11 08:46:35, total time: 273.37s
2025-06-11 09:03:38,503 INFO: Total tasks: 256, Completed: 256
2025-06-11 09:03:38,504 INFO: Task completion rate: 100.00%
2025-06-11 09:03:38,504 INFO: Total tokens processed: 57845
2025-06-11 09:03:38,504 INFO: Total elapsed time: 1298.57 seconds, Round time: 200.00 seconds, More than round time: 1098.57 seconds
2025-06-11 09:03:38,505 INFO: Total requests succeeded: 256
2025-06-11 09:03:38,505 INFO: Benchmark ended at 2025-06-11 09:03:38, total time: 1298.59s
2025-06-11 09:03:39,312 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:03:39,312 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 09:03:39,313 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.5544539239209975, [{'service': 13356, 'client': 'short_0'}, {'service': 29264, 'client': 'long_0'}, {'service': 149286, 'client': 'short_1'}]
2025-06-11 09:03:39,313 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 09:03:39,314 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 09:03:39,314 - ExperimentMonitor-LFS - INFO - Saving results... 0.5544539239209975, [{'service': 13356, 'client': 'short_0'}, {'service': 29264, 'client': 'long_0'}, {'service': 149286, 'client': 'short_1'}], 1
2025-06-11 09:03:39,314 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 09:03:39,315 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.5544539239209975, [{'service': 13356, 'client': 'short_0'}, {'service': 29264, 'client': 'long_0'}, {'service': 149286, 'client': 'short_1'}]
2025-06-11 09:03:39,315 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 09:03:39,315 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 09:03:39,315 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 09:03:39,315 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 09:03:39,316 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 09:03:39,316 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 09:03:39,316 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0005 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 2
_adjust_fairness:
  平均时间: 0.0011 秒
  最长时间: 0.0014 秒
  最短时间: 0.0009 秒
  执行次数: 2
_save_results:
  平均时间: 0.0009 秒
  最长时间: 0.0009 秒
  最短时间: 0.0008 秒
  执行次数: 2
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 2
_process_complete_round:
  平均时间: 0.0034 秒
  最长时间: 0.0034 秒
  最短时间: 0.0034 秒
  执行次数: 1
==============

2025-06-11 09:03:39,316 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:03:40,512 INFO: Starting benchmark round 2 run with QPS=100.0, output_tokens=256
2025-06-11 09:03:40,512 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 09:03:40,512 INFO: Time ratio: 0.5302297294151221, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:03:40,513 INFO: Benchmark started at 2025-06-11 09:03:40
2025-06-11 09:03:40,513 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 09:03:40,513 INFO: Total formatted JSON size: 10000
2025-06-11 09:03:40,513 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:03:40,524 INFO: Waiting for all workers to complete
2025-06-11 09:03:40,524 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:03:40,525 INFO: Generated 255 request times in 160s window, buffer: 40s
2025-06-11 09:03:40,525 INFO: Last request at: 81.71s, buffer remaining: 78.29s
2025-06-11 09:03:41,445 INFO: Starting benchmark round 3 run with QPS=10.0, output_tokens=256
2025-06-11 09:03:41,445 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 09:03:41,445 INFO: Time ratio: 1.6175498668294253, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:03:41,445 INFO: Benchmark started at 2025-06-11 09:03:41
2025-06-11 09:03:41,445 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 09:03:41,445 INFO: Total formatted JSON size: 10000
2025-06-11 09:03:41,445 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:03:41,456 INFO: Waiting for all workers to complete
2025-06-11 09:03:41,456 INFO: Starting benchmark round 3 run with QPS=20.0, output_tokens=256
2025-06-11 09:03:41,456 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 09:03:41,456 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:03:41,457 INFO: Benchmark started at 2025-06-11 09:03:41
2025-06-11 09:03:41,457 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 09:03:41,457 INFO: Total formatted JSON size: 10000
2025-06-11 09:03:41,457 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:03:41,468 INFO: Waiting for all workers to complete
2025-06-11 09:03:41,468 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:03:41,468 INFO: Generated 25 request times in 160s window, buffer: 40s
2025-06-11 09:03:41,468 INFO: Last request at: 154.26s, buffer remaining: 5.74s
2025-06-11 09:03:41,468 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:03:41,469 INFO: Generated 51 request times in 160s window, buffer: 40s
2025-06-11 09:03:41,469 INFO: Last request at: 157.98s, buffer remaining: 2.02s
2025-06-11 09:03:44,443 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:03:44,443 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 09:03:44,443 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:03:49,536 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:03:49,536 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 09:03:49,536 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:05:02,238 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 118.29 seconds
2025-06-11 09:06:15,727 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 45.74 seconds
2025-06-11 09:06:19,454 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 42.01 seconds
2025-06-11 09:07:01,469 INFO: Total tasks: 25, Completed: 25
2025-06-11 09:07:01,469 INFO: Task completion rate: 100.00%
2025-06-11 09:07:01,469 INFO: Total tokens processed: 5572
2025-06-11 09:07:01,469 INFO: Total elapsed time: 200.00 seconds, Round time: 200.00 seconds, More than round time: 0.00 seconds
2025-06-11 09:07:01,470 INFO: Total requests succeeded: 25
2025-06-11 09:07:01,470 INFO: Benchmark ended at 2025-06-11 09:07:01, total time: 200.03s
2025-06-11 09:08:51,564 INFO: Total tasks: 51, Completed: 51
2025-06-11 09:08:51,565 INFO: Task completion rate: 100.00%
2025-06-11 09:08:51,565 INFO: Total tokens processed: 11840
2025-06-11 09:08:51,565 INFO: Total elapsed time: 310.10 seconds, Round time: 200.00 seconds, More than round time: 110.10 seconds
2025-06-11 09:08:51,565 INFO: Total requests succeeded: 51
2025-06-11 09:08:51,566 INFO: Benchmark ended at 2025-06-11 09:08:51, total time: 310.11s
2025-06-11 09:25:00,042 INFO: Total tasks: 255, Completed: 255
2025-06-11 09:25:00,042 INFO: Task completion rate: 100.00%
2025-06-11 09:25:00,043 INFO: Total tokens processed: 56764
2025-06-11 09:25:00,043 INFO: Total elapsed time: 1279.52 seconds, Round time: 200.00 seconds, More than round time: 1079.52 seconds
2025-06-11 09:25:00,044 INFO: Total requests succeeded: 255
2025-06-11 09:25:00,044 INFO: Benchmark ended at 2025-06-11 09:25:00, total time: 1279.53s
2025-06-11 09:25:02,053 INFO: Starting benchmark round 3 run with QPS=100.0, output_tokens=256
2025-06-11 09:25:02,054 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 09:25:02,054 INFO: Time ratio: 0.5302297294151221, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:25:02,054 INFO: Benchmark started at 2025-06-11 09:25:02
2025-06-11 09:25:02,054 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 09:25:02,054 INFO: Total formatted JSON size: 10000
2025-06-11 09:25:02,054 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:25:02,065 INFO: Waiting for all workers to complete
2025-06-11 09:25:02,065 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:25:02,067 INFO: Generated 256 request times in 160s window, buffer: 40s
2025-06-11 09:25:02,067 INFO: Last request at: 81.68s, buffer remaining: 78.32s
2025-06-11 09:25:02,663 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:25:02,663 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 09:25:02,664 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.5341487702210297, [{'service': 15770, 'client': 'short_0'}, {'service': 29322, 'client': 'long_0'}, {'service': 152494, 'client': 'short_1'}]
2025-06-11 09:25:02,664 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 09:25:02,665 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 09:25:02,666 - ExperimentMonitor-LFS - INFO - Saving results... 0.5341487702210297, [{'service': 15770, 'client': 'short_0'}, {'service': 29322, 'client': 'long_0'}, {'service': 152494, 'client': 'short_1'}], 1
2025-06-11 09:25:02,666 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.5341487702210297, [{'service': 15770, 'client': 'short_0'}, {'service': 29322, 'client': 'long_0'}, {'service': 152494, 'client': 'short_1'}]
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 09:25:02,667 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0005 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 3
_adjust_fairness:
  平均时间: 0.0013 秒
  最长时间: 0.0015 秒
  最短时间: 0.0009 秒
  执行次数: 3
_save_results:
  平均时间: 0.0009 秒
  最长时间: 0.0010 秒
  最短时间: 0.0008 秒
  执行次数: 3
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 3
_process_complete_round:
  平均时间: 0.0037 秒
  最长时间: 0.0039 秒
  最短时间: 0.0034 秒
  执行次数: 2
==============

2025-06-11 09:25:02,668 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:25:04,783 INFO: Starting benchmark round 4 run with QPS=10.0, output_tokens=256
2025-06-11 09:25:04,784 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 09:25:04,784 INFO: Time ratio: 2.052631682492441, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:25:04,784 INFO: Benchmark started at 2025-06-11 09:25:04
2025-06-11 09:25:04,784 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 09:25:04,784 INFO: Total formatted JSON size: 10000
2025-06-11 09:25:04,784 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:25:04,795 INFO: Waiting for all workers to complete
2025-06-11 09:25:04,795 INFO: Starting benchmark round 4 run with QPS=20.0, output_tokens=256
2025-06-11 09:25:04,795 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 09:25:04,795 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:25:04,796 INFO: Benchmark started at 2025-06-11 09:25:04
2025-06-11 09:25:04,796 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 09:25:04,796 INFO: Total formatted JSON size: 10000
2025-06-11 09:25:04,796 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:25:04,806 INFO: Waiting for all workers to complete
2025-06-11 09:25:04,806 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:25:04,806 INFO: Generated 27 request times in 160s window, buffer: 40s
2025-06-11 09:25:04,806 INFO: Last request at: 153.92s, buffer remaining: 6.08s
2025-06-11 09:25:04,806 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:25:04,806 INFO: Generated 52 request times in 160s window, buffer: 40s
2025-06-11 09:25:04,806 INFO: Last request at: 158.41s, buffer remaining: 1.59s
2025-06-11 09:25:07,782 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:25:07,782 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 09:25:07,782 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:25:12,877 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:25:12,877 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 09:25:12,877 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:26:23,743 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 118.32 seconds
2025-06-11 09:27:38,723 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 46.08 seconds
2025-06-11 09:27:43,219 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 41.59 seconds
2025-06-11 09:28:37,539 INFO: Total tasks: 27, Completed: 27
2025-06-11 09:28:37,539 INFO: Task completion rate: 100.00%
2025-06-11 09:28:37,540 INFO: Total tokens processed: 5953
2025-06-11 09:28:37,540 INFO: Total elapsed time: 212.73 seconds, Round time: 200.00 seconds, More than round time: 12.73 seconds
2025-06-11 09:28:37,540 INFO: Total requests succeeded: 27
2025-06-11 09:28:37,540 INFO: Benchmark ended at 2025-06-11 09:28:37, total time: 212.76s
2025-06-11 09:29:56,936 INFO: Total tasks: 52, Completed: 52
2025-06-11 09:29:56,936 INFO: Task completion rate: 100.00%
2025-06-11 09:29:56,936 INFO: Total tokens processed: 11148
2025-06-11 09:29:56,937 INFO: Total elapsed time: 292.13 seconds, Round time: 200.00 seconds, More than round time: 92.13 seconds
2025-06-11 09:29:56,937 INFO: Total requests succeeded: 52
2025-06-11 09:29:56,937 INFO: Benchmark ended at 2025-06-11 09:29:56, total time: 292.14s
2025-06-11 09:46:09,272 INFO: Total tasks: 256, Completed: 256
2025-06-11 09:46:09,273 INFO: Task completion rate: 100.00%
2025-06-11 09:46:09,273 INFO: Total tokens processed: 56123
2025-06-11 09:46:09,273 INFO: Total elapsed time: 1267.21 seconds, Round time: 200.00 seconds, More than round time: 1067.21 seconds
2025-06-11 09:46:09,274 INFO: Total requests succeeded: 256
2025-06-11 09:46:09,274 INFO: Benchmark ended at 2025-06-11 09:46:09, total time: 1267.22s
2025-06-11 09:46:10,262 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:46:10,263 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 09:46:10,263 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.562061229659462, [{'service': 14989, 'client': 'short_0'}, {'service': 33413, 'client': 'long_0'}, {'service': 141912, 'client': 'short_1'}]
2025-06-11 09:46:10,263 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 09:46:10,265 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 09:46:10,265 - ExperimentMonitor-LFS - INFO - Saving results... 0.562061229659462, [{'service': 14989, 'client': 'short_0'}, {'service': 33413, 'client': 'long_0'}, {'service': 141912, 'client': 'short_1'}], 1
2025-06-11 09:46:10,265 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 09:46:10,266 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.562061229659462, [{'service': 14989, 'client': 'short_0'}, {'service': 33413, 'client': 'long_0'}, {'service': 141912, 'client': 'short_1'}]
2025-06-11 09:46:10,266 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 09:46:10,266 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 09:46:10,266 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 09:46:10,267 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 09:46:10,267 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 09:46:10,267 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 09:46:10,267 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0005 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 4
_adjust_fairness:
  平均时间: 0.0014 秒
  最长时间: 0.0017 秒
  最短时间: 0.0009 秒
  执行次数: 4
_save_results:
  平均时间: 0.0010 秒
  最长时间: 0.0011 秒
  最短时间: 0.0008 秒
  执行次数: 4
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 4
_process_complete_round:
  平均时间: 0.0038 秒
  最长时间: 0.0041 秒
  最短时间: 0.0034 秒
  执行次数: 3
==============

2025-06-11 09:46:10,267 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:46:11,386 INFO: Starting benchmark round 4 run with QPS=100.0, output_tokens=256
2025-06-11 09:46:11,386 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 09:46:11,387 INFO: Time ratio: 0.28360956680221716, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:46:11,387 INFO: Benchmark started at 2025-06-11 09:46:11
2025-06-11 09:46:11,387 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 09:46:11,387 INFO: Total formatted JSON size: 10000
2025-06-11 09:46:11,387 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:46:11,398 INFO: Waiting for all workers to complete
2025-06-11 09:46:11,398 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:46:11,400 INFO: Generated 256 request times in 160s window, buffer: 40s
2025-06-11 09:46:11,400 INFO: Last request at: 45.32s, buffer remaining: 114.68s
2025-06-11 09:46:12,388 INFO: Starting benchmark round 5 run with QPS=10.0, output_tokens=256
2025-06-11 09:46:12,388 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 09:46:12,388 INFO: Time ratio: 2.603380395153079, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:46:12,388 INFO: Benchmark started at 2025-06-11 09:46:12
2025-06-11 09:46:12,388 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 09:46:12,388 INFO: Total formatted JSON size: 10000
2025-06-11 09:46:12,388 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:46:12,399 INFO: Waiting for all workers to complete
2025-06-11 09:46:12,399 INFO: Starting benchmark round 5 run with QPS=20.0, output_tokens=256
2025-06-11 09:46:12,399 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 09:46:12,399 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 09:46:12,399 INFO: Benchmark started at 2025-06-11 09:46:12
2025-06-11 09:46:12,399 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 09:46:12,399 INFO: Total formatted JSON size: 10000
2025-06-11 09:46:12,400 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 09:46:12,410 INFO: Waiting for all workers to complete
2025-06-11 09:46:12,410 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:46:12,411 INFO: Generated 26 request times in 160s window, buffer: 40s
2025-06-11 09:46:12,411 INFO: Last request at: 157.65s, buffer remaining: 2.35s
2025-06-11 09:46:12,411 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 09:46:12,411 INFO: Generated 50 request times in 160s window, buffer: 40s
2025-06-11 09:46:12,411 INFO: Last request at: 152.65s, buffer remaining: 7.35s
2025-06-11 09:46:15,386 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:46:15,386 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 09:46:15,386 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:46:20,686 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 09:46:20,688 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 09:46:20,688 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 09:46:56,718 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 154.68 seconds
2025-06-11 09:48:45,063 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 47.35 seconds
2025-06-11 09:48:50,059 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 42.35 seconds
2025-06-11 09:49:56,253 INFO: Total tasks: 26, Completed: 26
2025-06-11 09:49:56,253 INFO: Task completion rate: 100.00%
2025-06-11 09:49:56,253 INFO: Total tokens processed: 6115
2025-06-11 09:49:56,253 INFO: Total elapsed time: 223.84 seconds, Round time: 200.00 seconds, More than round time: 23.84 seconds
2025-06-11 09:49:56,253 INFO: Total requests succeeded: 26
2025-06-11 09:49:56,254 INFO: Benchmark ended at 2025-06-11 09:49:56, total time: 223.87s
2025-06-11 09:51:14,204 INFO: Total tasks: 50, Completed: 50
2025-06-11 09:51:14,204 INFO: Task completion rate: 100.00%
2025-06-11 09:51:14,204 INFO: Total tokens processed: 11666
2025-06-11 09:51:14,204 INFO: Total elapsed time: 301.79 seconds, Round time: 200.00 seconds, More than round time: 101.79 seconds
2025-06-11 09:51:14,205 INFO: Total requests succeeded: 50
2025-06-11 09:51:14,205 INFO: Benchmark ended at 2025-06-11 09:51:14, total time: 301.81s
2025-06-11 10:07:38,787 INFO: Total tasks: 256, Completed: 256
2025-06-11 10:07:38,787 INFO: Task completion rate: 100.00%
2025-06-11 10:07:38,787 INFO: Total tokens processed: 56965
2025-06-11 10:07:38,787 INFO: Total elapsed time: 1287.39 seconds, Round time: 200.00 seconds, More than round time: 1087.39 seconds
2025-06-11 10:07:38,789 INFO: Total requests succeeded: 256
2025-06-11 10:07:38,789 INFO: Benchmark ended at 2025-06-11 10:07:38, total time: 1287.40s
2025-06-11 10:07:40,798 INFO: Starting benchmark round 5 run with QPS=100.0, output_tokens=256
2025-06-11 10:07:40,798 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 10:07:40,798 INFO: Time ratio: 0.28360956680221716, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:07:40,799 INFO: Benchmark started at 2025-06-11 10:07:40
2025-06-11 10:07:40,799 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 10:07:40,799 INFO: Total formatted JSON size: 10000
2025-06-11 10:07:40,799 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:07:40,810 INFO: Waiting for all workers to complete
2025-06-11 10:07:40,810 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:07:40,812 INFO: Generated 262 request times in 160s window, buffer: 40s
2025-06-11 10:07:40,813 INFO: Last request at: 44.41s, buffer remaining: 115.59s
2025-06-11 10:07:43,368 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:07:43,368 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 10:07:43,369 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.5684098976240209, [{'service': 15714, 'client': 'short_0'}, {'service': 36655, 'client': 'long_0'}, {'service': 148805, 'client': 'short_1'}]
2025-06-11 10:07:43,369 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 10:07:43,370 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 10:07:43,371 - ExperimentMonitor-LFS - INFO - Saving results... 0.5684098976240209, [{'service': 15714, 'client': 'short_0'}, {'service': 36655, 'client': 'long_0'}, {'service': 148805, 'client': 'short_1'}], 1
2025-06-11 10:07:43,371 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.5684098976240209, [{'service': 15714, 'client': 'short_0'}, {'service': 36655, 'client': 'long_0'}, {'service': 148805, 'client': 'short_1'}]
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 10:07:43,372 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 5
_adjust_fairness:
  平均时间: 0.0014 秒
  最长时间: 0.0017 秒
  最短时间: 0.0009 秒
  执行次数: 5
_save_results:
  平均时间: 0.0010 秒
  最长时间: 0.0011 秒
  最短时间: 0.0008 秒
  执行次数: 5
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 5
_process_complete_round:
  平均时间: 0.0040 秒
  最长时间: 0.0045 秒
  最短时间: 0.0034 秒
  执行次数: 4
==============

2025-06-11 10:07:43,373 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:07:45,469 INFO: Starting benchmark round 6 run with QPS=10.0, output_tokens=256
2025-06-11 10:07:45,469 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 10:07:45,469 INFO: Time ratio: 3.301918415054262, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:07:45,469 INFO: Benchmark started at 2025-06-11 10:07:45
2025-06-11 10:07:45,469 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 10:07:45,469 INFO: Total formatted JSON size: 10000
2025-06-11 10:07:45,469 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:07:45,481 INFO: Waiting for all workers to complete
2025-06-11 10:07:45,481 INFO: Starting benchmark round 6 run with QPS=20.0, output_tokens=256
2025-06-11 10:07:45,481 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 10:07:45,481 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:07:45,481 INFO: Benchmark started at 2025-06-11 10:07:45
2025-06-11 10:07:45,481 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 10:07:45,481 INFO: Total formatted JSON size: 10000
2025-06-11 10:07:45,481 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:07:45,492 INFO: Waiting for all workers to complete
2025-06-11 10:07:45,493 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:07:45,493 INFO: Generated 23 request times in 160s window, buffer: 40s
2025-06-11 10:07:45,493 INFO: Last request at: 155.00s, buffer remaining: 5.00s
2025-06-11 10:07:45,493 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:07:45,493 INFO: Generated 49 request times in 160s window, buffer: 40s
2025-06-11 10:07:45,493 INFO: Last request at: 153.31s, buffer remaining: 6.69s
2025-06-11 10:07:48,468 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:07:48,468 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 10:07:48,468 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:07:53,800 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:07:53,801 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 10:07:53,801 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:08:25,220 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 155.59 seconds
2025-06-11 10:10:18,801 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 46.69 seconds
2025-06-11 10:10:20,497 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 45.00 seconds
2025-06-11 10:11:12,687 INFO: Total tasks: 23, Completed: 23
2025-06-11 10:11:12,687 INFO: Task completion rate: 100.00%
2025-06-11 10:11:12,688 INFO: Total tokens processed: 4676
2025-06-11 10:11:12,688 INFO: Total elapsed time: 207.19 seconds, Round time: 200.00 seconds, More than round time: 7.19 seconds
2025-06-11 10:11:12,688 INFO: Total requests succeeded: 23
2025-06-11 10:11:12,688 INFO: Benchmark ended at 2025-06-11 10:11:12, total time: 207.22s
2025-06-11 10:12:31,418 INFO: Total tasks: 49, Completed: 49
2025-06-11 10:12:31,418 INFO: Task completion rate: 100.00%
2025-06-11 10:12:31,418 INFO: Total tokens processed: 11089
2025-06-11 10:12:31,419 INFO: Total elapsed time: 285.92 seconds, Round time: 200.00 seconds, More than round time: 85.92 seconds
2025-06-11 10:12:31,419 INFO: Total requests succeeded: 49
2025-06-11 10:12:31,419 INFO: Benchmark ended at 2025-06-11 10:12:31, total time: 285.94s
2025-06-11 10:28:51,875 INFO: Total tasks: 262, Completed: 262
2025-06-11 10:28:51,875 INFO: Task completion rate: 100.00%
2025-06-11 10:28:51,875 INFO: Total tokens processed: 56431
2025-06-11 10:28:51,875 INFO: Total elapsed time: 1271.06 seconds, Round time: 200.00 seconds, More than round time: 1071.06 seconds
2025-06-11 10:28:51,877 INFO: Total requests succeeded: 262
2025-06-11 10:28:51,877 INFO: Benchmark ended at 2025-06-11 10:28:51, total time: 1271.08s
2025-06-11 10:28:53,887 INFO: Starting benchmark round 6 run with QPS=100.0, output_tokens=256
2025-06-11 10:28:53,888 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 10:28:53,888 INFO: Time ratio: 0.20751155761850584, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:28:53,888 INFO: Benchmark started at 2025-06-11 10:28:53
2025-06-11 10:28:53,888 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 10:28:53,888 INFO: Total formatted JSON size: 10000
2025-06-11 10:28:53,888 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:28:53,899 INFO: Waiting for all workers to complete
2025-06-11 10:28:53,899 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:28:53,901 INFO: Generated 264 request times in 160s window, buffer: 40s
2025-06-11 10:28:53,901 INFO: Last request at: 33.03s, buffer remaining: 126.97s
2025-06-11 10:28:56,372 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:28:56,372 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 10:28:56,372 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.6819221167938435, [{'service': 16313, 'client': 'short_0'}, {'service': 35522, 'client': 'long_0'}, {'service': 147138, 'client': 'short_1'}]
2025-06-11 10:28:56,373 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 10:28:56,374 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 10:28:56,375 - ExperimentMonitor-LFS - INFO - Saving results... 0.6819221167938435, [{'service': 16313, 'client': 'short_0'}, {'service': 35522, 'client': 'long_0'}, {'service': 147138, 'client': 'short_1'}], 1
2025-06-11 10:28:56,375 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 10:28:56,376 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.6819221167938435, [{'service': 16313, 'client': 'short_0'}, {'service': 35522, 'client': 'long_0'}, {'service': 147138, 'client': 'short_1'}]
2025-06-11 10:28:56,376 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 10:28:56,376 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 10:28:56,376 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 10:28:56,376 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 10:28:56,376 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 10:28:56,376 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 10:28:56,377 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 6
_adjust_fairness:
  平均时间: 0.0015 秒
  最长时间: 0.0020 秒
  最短时间: 0.0009 秒
  执行次数: 6
_save_results:
  平均时间: 0.0010 秒
  最长时间: 0.0012 秒
  最短时间: 0.0008 秒
  执行次数: 6
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 6
_process_complete_round:
  平均时间: 0.0040 秒
  最长时间: 0.0045 秒
  最短时间: 0.0034 秒
  执行次数: 5
==============

2025-06-11 10:28:56,377 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:28:58,472 INFO: Starting benchmark round 7 run with QPS=10.0, output_tokens=256
2025-06-11 10:28:58,472 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 10:28:58,472 INFO: Time ratio: 4.09377230722402, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:28:58,472 INFO: Benchmark started at 2025-06-11 10:28:58
2025-06-11 10:28:58,473 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 10:28:58,473 INFO: Total formatted JSON size: 10000
2025-06-11 10:28:58,473 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:28:58,483 INFO: Waiting for all workers to complete
2025-06-11 10:28:58,483 INFO: Starting benchmark round 7 run with QPS=20.0, output_tokens=256
2025-06-11 10:28:58,483 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 10:28:58,483 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:28:58,483 INFO: Benchmark started at 2025-06-11 10:28:58
2025-06-11 10:28:58,484 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 10:28:58,484 INFO: Total formatted JSON size: 10000
2025-06-11 10:28:58,484 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:28:58,495 INFO: Waiting for all workers to complete
2025-06-11 10:28:58,495 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:28:58,495 INFO: Generated 23 request times in 160s window, buffer: 40s
2025-06-11 10:28:58,495 INFO: Last request at: 153.77s, buffer remaining: 6.23s
2025-06-11 10:28:58,495 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:28:58,495 INFO: Generated 49 request times in 160s window, buffer: 40s
2025-06-11 10:28:58,495 INFO: Last request at: 157.00s, buffer remaining: 3.00s
2025-06-11 10:29:01,471 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:29:01,472 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 10:29:01,472 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:29:06,851 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:29:06,852 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 10:29:06,852 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:29:26,934 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 166.97 seconds
2025-06-11 10:31:32,268 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 46.23 seconds
2025-06-11 10:31:35,494 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 43.00 seconds
2025-06-11 10:32:49,467 INFO: Total tasks: 23, Completed: 23
2025-06-11 10:32:49,467 INFO: Task completion rate: 100.00%
2025-06-11 10:32:49,467 INFO: Total tokens processed: 5391
2025-06-11 10:32:49,468 INFO: Total elapsed time: 230.97 seconds, Round time: 200.00 seconds, More than round time: 30.97 seconds
2025-06-11 10:32:49,468 INFO: Total requests succeeded: 23
2025-06-11 10:32:49,468 INFO: Benchmark ended at 2025-06-11 10:32:49, total time: 231.00s
2025-06-11 10:33:47,996 INFO: Total tasks: 49, Completed: 49
2025-06-11 10:33:47,997 INFO: Task completion rate: 100.00%
2025-06-11 10:33:47,997 INFO: Total tokens processed: 11051
2025-06-11 10:33:47,997 INFO: Total elapsed time: 289.50 seconds, Round time: 200.00 seconds, More than round time: 89.50 seconds
2025-06-11 10:33:47,997 INFO: Total requests succeeded: 49
2025-06-11 10:33:47,997 INFO: Benchmark ended at 2025-06-11 10:33:47, total time: 289.51s
2025-06-11 10:50:19,565 INFO: Total tasks: 264, Completed: 264
2025-06-11 10:50:19,566 INFO: Task completion rate: 100.00%
2025-06-11 10:50:19,566 INFO: Total tokens processed: 57058
2025-06-11 10:50:19,566 INFO: Total elapsed time: 1285.67 seconds, Round time: 200.00 seconds, More than round time: 1085.67 seconds
2025-06-11 10:50:19,567 INFO: Total requests succeeded: 264
2025-06-11 10:50:19,567 INFO: Benchmark ended at 2025-06-11 10:50:19, total time: 1285.68s
2025-06-11 10:50:19,672 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:50:19,673 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 10:50:19,673 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.5395617204727339, [{'service': 12588, 'client': 'short_0'}, {'service': 33270, 'client': 'long_0'}, {'service': 148838, 'client': 'short_1'}]
2025-06-11 10:50:19,673 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 10:50:19,675 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 10:50:19,676 - ExperimentMonitor-LFS - INFO - Saving results... 0.5395617204727339, [{'service': 12588, 'client': 'short_0'}, {'service': 33270, 'client': 'long_0'}, {'service': 148838, 'client': 'short_1'}], 1
2025-06-11 10:50:19,676 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 10:50:19,677 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.5395617204727339, [{'service': 12588, 'client': 'short_0'}, {'service': 33270, 'client': 'long_0'}, {'service': 148838, 'client': 'short_1'}]
2025-06-11 10:50:19,677 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 10:50:19,677 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 10:50:19,677 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 10:50:19,677 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 10:50:19,677 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 10:50:19,677 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 10:50:19,678 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 7
_adjust_fairness:
  平均时间: 0.0016 秒
  最长时间: 0.0021 秒
  最短时间: 0.0009 秒
  执行次数: 7
_save_results:
  平均时间: 0.0010 秒
  最长时间: 0.0012 秒
  最短时间: 0.0008 秒
  执行次数: 7
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 7
_process_complete_round:
  平均时间: 0.0042 秒
  最长时间: 0.0048 秒
  最短时间: 0.0034 秒
  执行次数: 6
==============

2025-06-11 10:50:19,678 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:50:21,577 INFO: Starting benchmark round 7 run with QPS=100.0, output_tokens=256
2025-06-11 10:50:21,577 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 10:50:21,577 INFO: Time ratio: 0.11442527259786331, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:50:21,578 INFO: Benchmark started at 2025-06-11 10:50:21
2025-06-11 10:50:21,578 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 10:50:21,578 INFO: Total formatted JSON size: 10000
2025-06-11 10:50:21,578 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:50:21,588 INFO: Waiting for all workers to complete
2025-06-11 10:50:21,589 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:50:21,590 INFO: Generated 258 request times in 160s window, buffer: 40s
2025-06-11 10:50:21,590 INFO: Last request at: 18.24s, buffer remaining: 141.76s
2025-06-11 10:50:21,774 INFO: Starting benchmark round 8 run with QPS=10.0, output_tokens=256
2025-06-11 10:50:21,774 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 10:50:21,774 INFO: Time ratio: 5.218034545750349, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:50:21,774 INFO: Benchmark started at 2025-06-11 10:50:21
2025-06-11 10:50:21,774 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 10:50:21,774 INFO: Total formatted JSON size: 10000
2025-06-11 10:50:21,774 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:50:21,785 INFO: Waiting for all workers to complete
2025-06-11 10:50:21,785 INFO: Starting benchmark round 8 run with QPS=20.0, output_tokens=256
2025-06-11 10:50:21,785 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 10:50:21,785 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 10:50:21,785 INFO: Benchmark started at 2025-06-11 10:50:21
2025-06-11 10:50:21,786 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 10:50:21,786 INFO: Total formatted JSON size: 10000
2025-06-11 10:50:21,786 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 10:50:21,797 INFO: Waiting for all workers to complete
2025-06-11 10:50:21,797 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:50:21,797 INFO: Generated 24 request times in 160s window, buffer: 40s
2025-06-11 10:50:21,797 INFO: Last request at: 156.65s, buffer remaining: 3.35s
2025-06-11 10:50:21,797 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 10:50:21,798 INFO: Generated 52 request times in 160s window, buffer: 40s
2025-06-11 10:50:21,798 INFO: Last request at: 151.19s, buffer remaining: 8.81s
2025-06-11 10:50:24,774 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:50:24,774 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 10:50:24,774 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:50:29,868 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 10:50:29,868 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 10:50:29,868 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 10:50:39,826 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 181.76 seconds
2025-06-11 10:52:52,989 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 48.81 seconds
2025-06-11 10:52:58,450 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 43.35 seconds
2025-06-11 10:54:18,333 INFO: Total tasks: 24, Completed: 24
2025-06-11 10:54:18,333 INFO: Task completion rate: 100.00%
2025-06-11 10:54:18,333 INFO: Total tokens processed: 5188
2025-06-11 10:54:18,333 INFO: Total elapsed time: 236.54 seconds, Round time: 200.00 seconds, More than round time: 36.54 seconds
2025-06-11 10:54:18,334 INFO: Total requests succeeded: 24
2025-06-11 10:54:18,334 INFO: Benchmark ended at 2025-06-11 10:54:18, total time: 236.56s
2025-06-11 10:55:23,568 INFO: Total tasks: 52, Completed: 52
2025-06-11 10:55:23,569 INFO: Task completion rate: 100.00%
2025-06-11 10:55:23,569 INFO: Total tokens processed: 11630
2025-06-11 10:55:23,569 INFO: Total elapsed time: 301.77 seconds, Round time: 200.00 seconds, More than round time: 101.77 seconds
2025-06-11 10:55:23,569 INFO: Total requests succeeded: 52
2025-06-11 10:55:23,570 INFO: Benchmark ended at 2025-06-11 10:55:23, total time: 301.78s
2025-06-11 11:11:41,736 INFO: Total tasks: 258, Completed: 258
2025-06-11 11:11:41,736 INFO: Task completion rate: 100.00%
2025-06-11 11:11:41,737 INFO: Total tokens processed: 56777
2025-06-11 11:11:41,737 INFO: Total elapsed time: 1280.15 seconds, Round time: 200.00 seconds, More than round time: 1080.15 seconds
2025-06-11 11:11:41,738 INFO: Total requests succeeded: 258
2025-06-11 11:11:41,738 INFO: Benchmark ended at 2025-06-11 11:11:41, total time: 1280.16s
2025-06-11 11:11:42,976 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 11:11:42,976 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 11:11:42,977 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.6034508303457798, [{'service': 13954, 'client': 'short_0'}, {'service': 29943, 'client': 'long_0'}, {'service': 148177, 'client': 'short_1'}]
2025-06-11 11:11:42,977 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
2025-06-11 11:11:42,979 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 11:11:42,979 - ExperimentMonitor-LFS - INFO - Saving results... 0.6034508303457798, [{'service': 13954, 'client': 'short_0'}, {'service': 29943, 'client': 'long_0'}, {'service': 148177, 'client': 'short_1'}], 1
2025-06-11 11:11:42,979 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 11:11:42,981 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.6034508303457798, [{'service': 13954, 'client': 'short_0'}, {'service': 29943, 'client': 'long_0'}, {'service': 148177, 'client': 'short_1'}]
2025-06-11 11:11:42,981 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 11:11:42,981 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 11:11:42,981 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 11:11:42,981 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 11:11:42,981 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 11:11:42,981 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 11:11:42,982 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 8
_adjust_fairness:
  平均时间: 0.0017 秒
  最长时间: 0.0024 秒
  最短时间: 0.0009 秒
  执行次数: 8
_save_results:
  平均时间: 0.0011 秒
  最长时间: 0.0014 秒
  最短时间: 0.0008 秒
  执行次数: 8
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 8
_process_complete_round:
  平均时间: 0.0043 秒
  最长时间: 0.0049 秒
  最短时间: 0.0034 秒
  执行次数: 7
==============

2025-06-11 11:11:42,982 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 11:11:43,747 INFO: Starting benchmark round 8 run with QPS=100.0, output_tokens=256
2025-06-11 11:11:43,748 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 11:11:43,748 INFO: Time ratio: 0.08681286731683564, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 11:11:43,748 INFO: Benchmark started at 2025-06-11 11:11:43
2025-06-11 11:11:43,748 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 11:11:43,748 INFO: Total formatted JSON size: 10000
2025-06-11 11:11:43,748 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 11:11:43,759 INFO: Waiting for all workers to complete
2025-06-11 11:11:43,759 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 11:11:43,760 INFO: Generated 246 request times in 160s window, buffer: 40s
2025-06-11 11:11:43,760 INFO: Last request at: 13.24s, buffer remaining: 146.76s
2025-06-11 11:11:45,083 INFO: Starting benchmark round 9 run with QPS=10.0, output_tokens=256
2025-06-11 11:11:45,083 INFO: Client ID: short_0, Concurrency: 1
2025-06-11 11:11:45,083 INFO: Time ratio: 6.477218652342132, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 11:11:45,083 INFO: Benchmark started at 2025-06-11 11:11:45
2025-06-11 11:11:45,084 INFO: Creating 1 workers, each handling 10.0 QPS
2025-06-11 11:11:45,084 INFO: Total formatted JSON size: 10000
2025-06-11 11:11:45,084 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 11:11:45,094 INFO: Waiting for all workers to complete
2025-06-11 11:11:45,095 INFO: Starting benchmark round 9 run with QPS=20.0, output_tokens=256
2025-06-11 11:11:45,095 INFO: Client ID: long_0, Concurrency: 1
2025-06-11 11:11:45,095 INFO: Time ratio: 1.0, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 11:11:45,095 INFO: Benchmark started at 2025-06-11 11:11:45
2025-06-11 11:11:45,095 INFO: Creating 1 workers, each handling 20.0 QPS
2025-06-11 11:11:45,095 INFO: Total formatted JSON size: 10000
2025-06-11 11:11:45,095 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 11:11:45,106 INFO: Waiting for all workers to complete
2025-06-11 11:11:45,106 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 11:11:45,106 INFO: Generated 26 request times in 160s window, buffer: 40s
2025-06-11 11:11:45,106 INFO: Last request at: 159.79s, buffer remaining: 0.21s
2025-06-11 11:11:45,106 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 11:11:45,106 INFO: Generated 55 request times in 160s window, buffer: 40s
2025-06-11 11:11:45,107 INFO: Last request at: 159.31s, buffer remaining: 0.69s
2025-06-11 11:11:48,083 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 11:11:48,083 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 11:11:48,084 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 11:11:53,179 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 11:11:53,179 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 11:11:53,179 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 11:11:56,995 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 186.76 seconds
2025-06-11 11:14:24,416 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 40.69 seconds
2025-06-11 11:14:24,899 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 40.21 seconds
2025-06-11 11:16:14,673 INFO: Total tasks: 26, Completed: 26
2025-06-11 11:16:14,674 INFO: Task completion rate: 100.00%
2025-06-11 11:16:14,674 INFO: Total tokens processed: 5896
2025-06-11 11:16:14,674 INFO: Total elapsed time: 269.57 seconds, Round time: 200.00 seconds, More than round time: 69.57 seconds
2025-06-11 11:16:14,674 INFO: Total requests succeeded: 26
2025-06-11 11:16:14,674 INFO: Benchmark ended at 2025-06-11 11:16:14, total time: 269.59s
2025-06-11 11:16:47,919 INFO: Total tasks: 55, Completed: 55
2025-06-11 11:16:47,919 INFO: Task completion rate: 100.00%
2025-06-11 11:16:47,919 INFO: Total tokens processed: 11500
2025-06-11 11:16:47,919 INFO: Total elapsed time: 302.81 seconds, Round time: 200.00 seconds, More than round time: 102.81 seconds
2025-06-11 11:16:47,920 INFO: Total requests succeeded: 55
2025-06-11 11:16:47,920 INFO: Benchmark ended at 2025-06-11 11:16:47, total time: 302.82s
2025-06-11 11:32:22,182 INFO: Total tasks: 246, Completed: 246
2025-06-11 11:32:22,182 INFO: Task completion rate: 100.00%
2025-06-11 11:32:22,182 INFO: Total tokens processed: 54896
2025-06-11 11:32:22,182 INFO: Total elapsed time: 1238.42 seconds, Round time: 200.00 seconds, More than round time: 1038.42 seconds
2025-06-11 11:32:22,183 INFO: Total requests succeeded: 246
2025-06-11 11:32:22,184 INFO: Benchmark ended at 2025-06-11 11:32:22, total time: 1238.44s
2025-06-11 11:32:24,194 INFO: Starting benchmark round 9 run with QPS=100.0, output_tokens=256
2025-06-11 11:32:24,194 INFO: Client ID: short_1, Concurrency: 1
2025-06-11 11:32:24,194 INFO: Time ratio: 0.08681286731683564, Active ratio: 1.0, QPS ratio: 1.0
2025-06-11 11:32:24,194 INFO: Benchmark started at 2025-06-11 11:32:24
2025-06-11 11:32:24,194 INFO: Creating 1 workers, each handling 100.0 QPS
2025-06-11 11:32:24,194 INFO: Total formatted JSON size: 10000
2025-06-11 11:32:24,195 INFO: Chunk size: 10000, Remaining: 0
2025-06-11 11:32:24,205 INFO: Waiting for all workers to complete
2025-06-11 11:32:24,206 INFO: Round time: 200s, Buffer time: 40s, Effective time: 160s
2025-06-11 11:32:24,207 INFO: Generated 256 request times in 160s window, buffer: 40s
2025-06-11 11:32:24,207 INFO: Last request at: 13.89s, buffer remaining: 146.11s
2025-06-11 11:32:25,322 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 11:32:25,323 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 3
2025-06-11 11:32:25,323 - ExperimentMonitor-LFS - INFO - Fairness calculation complete: 0.7273908797824145, [{'service': 12911, 'client': 'short_0'}, {'service': 32851, 'client': 'long_0'}, {'service': 141020, 'client': 'short_1'}]
2025-06-11 11:32:25,323 - ExperimentMonitor-LFS - INFO - Starting fairness adjustment for LFS...
Initializing multiple OpenAI clients:
Creating client with base_url: http://localhost:8000/v1
Starting benchmarks for client short_0 with 10 configurations
Client short_0: Running configuration 1/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Starting benchmarks for client short_1 with 10 configurations
Client short_1: Running configuration 1/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Starting benchmarks for client long_0 with 10 configurations
Client long_0: Running configuration 1/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Client short_0: Running configuration 2/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 2/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Client short_1: Running configuration 2/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.030 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 0 and 0
System average success rate: 1.00
Adjusted resources: client1.time_ratio=1.27, client2.time_ratio=0.73
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_0: Running configuration 3/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 3/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.027 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 2 and -2
System average success rate: 1.00
Adjusted resources: client1.time_ratio=1.62, client2.time_ratio=0.53
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_1: Running configuration 3/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Client short_0: Running configuration 4/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 4/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Client short_1: Running configuration 4/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.031 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 4 and -4
System average success rate: 1.00
Adjusted resources: client1.time_ratio=2.05, client2.time_ratio=0.39
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_0: Running configuration 5/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 5/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.032 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 6 and -6
System average success rate: 1.00
Adjusted resources: client1.time_ratio=2.60, client2.time_ratio=0.28
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_1: Running configuration 5/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Client short_0: Running configuration 6/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 6/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Client short_1: Running configuration 6/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.032 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 8 and -8
System average success rate: 1.00
Adjusted resources: client1.time_ratio=3.30, client2.time_ratio=0.21
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_0: Running configuration 7/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 7/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Client short_1: Running configuration 7/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.060 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 10 and -10
System average success rate: 1.00
Adjusted resources: client1.time_ratio=4.09, client2.time_ratio=0.16
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_0: Running configuration 8/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 8/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.025 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 12 and -12
System average success rate: 1.00
Adjusted resources: client1.time_ratio=5.22, client2.time_ratio=0.11
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_1: Running configuration 8/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Client short_0: Running configuration 9/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 9/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.059 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 14 and -14
System average success rate: 1.00
Adjusted resources: client1.time_ratio=6.48, client2.time_ratio=0.09
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Client short_1: Running configuration 9/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Client short_0: Running configuration 10/10: 10.0
[Client short_0] Experiment setup complete: 10.0 workers with 1 QPS per worker
Client long_0: Running configuration 10/10: 20.0
[Client long_0] Experiment setup complete: 20.0 workers with 1 QPS per worker
Client short_1: Running configuration 10/10: 100.0
[Client short_1] Experiment setup complete: 100.0 workers with 1 QPS per worker
Appended data to tmp_result/LFS_jains_index_calculation_log_06_11_08_19.log
2025-06-11 11:32:25,326 - ExperimentMonitor-LFS - INFO - Fairness adjustment complete
2025-06-11 11:32:25,326 - ExperimentMonitor-LFS - INFO - Saving results... 0.7273908797824145, [{'service': 12911, 'client': 'short_0'}, {'service': 32851, 'client': 'long_0'}, {'service': 141020, 'client': 'short_1'}], 1
2025-06-11 11:32:25,326 - ExperimentMonitor-LFS - INFO - Starting to save results...
2025-06-11 11:32:25,327 - ExperimentMonitor-LFS - INFO - Results saved to tmp_result/tmp_fairness_result.json: 0.7273908797824145, [{'service': 12911, 'client': 'short_0'}, {'service': 32851, 'client': 'long_0'}, {'service': 141020, 'client': 'short_1'}]
2025-06-11 11:32:25,327 - ExperimentMonitor-LFS - INFO - Results saved successfully
2025-06-11 11:32:25,327 - ExperimentMonitor-LFS - INFO - Notifying clients of completion...
2025-06-11 11:32:25,328 - ExperimentMonitor-LFS - INFO - Resetting client 1/3
2025-06-11 11:32:25,328 - ExperimentMonitor-LFS - INFO - Resetting client 2/3
2025-06-11 11:32:25,328 - ExperimentMonitor-LFS - INFO - Resetting client 3/3
2025-06-11 11:32:25,328 - ExperimentMonitor-LFS - INFO - All clients notified
2025-06-11 11:32:25,328 - ExperimentMonitor-LFS - INFO - 
=== 时间统计 ===
_calculate_fairness:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 9
_adjust_fairness:
  平均时间: 0.0018 秒
  最长时间: 0.0026 秒
  最短时间: 0.0009 秒
  执行次数: 9
_save_results:
  平均时间: 0.0011 秒
  最长时间: 0.0014 秒
  最短时间: 0.0008 秒
  执行次数: 9
_reset_clients:
  平均时间: 0.0004 秒
  最长时间: 0.0005 秒
  最短时间: 0.0004 秒
  执行次数: 9
_process_complete_round:
  平均时间: 0.0044 秒
  最长时间: 0.0055 秒
  最短时间: 0.0034 秒
  执行次数: 8
==============

2025-06-11 11:32:25,328 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 11:32:30,445 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 11:32:30,445 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 1
2025-06-11 11:32:30,445 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 11:32:35,539 - ExperimentMonitor-LFS - INFO - Queue not empty, getting next result...
2025-06-11 11:32:35,539 - ExperimentMonitor-LFS - INFO - Current completed client numbers: 2
2025-06-11 11:32:35,539 - ExperimentMonitor-LFS - INFO - Task marked as done
2025-06-11 11:32:38,097 WARNING: [Worker 0] Warning: Not enough requests to fill the round time. Sleeping for 186.11 seconds
2025-06-11 11:52:49,338 INFO: Total tasks: 256, Completed: 256
2025-06-11 11:52:49,339 INFO: Task completion rate: 100.00%
2025-06-11 11:52:49,339 INFO: Total tokens processed: 56098
2025-06-11 11:52:49,339 INFO: Total elapsed time: 1225.13 seconds, Round time: 200.00 seconds, More than round time: 1025.13 seconds
2025-06-11 11:52:49,340 INFO: Total requests succeeded: 256
2025-06-11 11:52:49,340 INFO: Benchmark ended at 2025-06-11 11:52:49, total time: 1225.15s
2025-06-11 11:52:51,350 INFO: Total time: 12770.82 seconds
2025-06-11 11:52:51,356 INFO: Saved data to results/LFS_0611_08-20_to_11-52.json
2025-06-11 11:52:51,357 INFO: Saved data to tmp_result/plot_data.json
2025-06-11 11:52:51,357 INFO: Monitor task cancelled.
[Fairness] Starting iteration 1/1.5
[Fairness] Selected clients with fairness ratios: 0.086 and 0.300
[Fairness] Exchange times: 0 and 0
[Fairness] Credits: 16 and -16
System average success rate: 1.00
Adjusted resources: client1.time_ratio=7.86, client2.time_ratio=0.07
Saved data to tmp_result/LFS_resources_exchanges_06_11_08_19.json
[Fairness] Starting iteration 2/1.5
Saved data to tmp_result/tmp_fairness_result.json
Short clients: ['short_0_slo_7', 'short_1_slo_15']
Long clients: ['long_0_slo_7']
[DEBUG] success_rate all_values: [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
[DEBUG] tokens_per_second all_values: [29.9957748710002, 31.83210955032536, 35.1678543198337, 35.68600829684502, 36.061673977447555, 35.591436348008074, 9.315472176234277, 36.012723431781005, 35.082957478603554, 30.924094429860197, 31.07897379350442, 33.648128119062015, 28.697681540461964, 31.277332052205693, 33.56814219279835, 34.608772411664454, 24.898905855739404, 11.647987049901323, 29.692844094098973, 8.12300684181052, 32.1778008955327, 24.02700793153391, 28.27705549413467, 10.150093379422486, 19.90258172031689, 18.996273432471877, 32.731850345145226, 34.25458179501573, 24.561921428112594, 31.42372894539703]
[DEBUG] latency all_values: [6.789596803188324, 6.879078178405762, 6.937036161422729, 6.885268983840942, 6.935377993583679, 6.891138792037964, 6.980855841636658, 6.793934664726257, 7.018912994861602, 7.129906952381134, 6.822337985038757, 6.7471284627914425, 6.793749990463257, 6.777030217647552, 6.756427764892578, 6.7595210337638845, 6.766005339622498, 6.744967496395112, 6.861615586280823, 5.774935066699982, 6.814234507083893, 6.8274729275703425, 6.947047829627991, 6.8436501026153564, 6.936166212558747, 6.825721461772918, 7.037824440002441, 6.86263837814331, 6.963560235500336, 7.1292065286636355]
[DEBUG] time_to_first_token all_values: [0.17239833116531372, 0.1564524793624878, 0.16805144548416134, 0.19116250038146967, 0.19731835842132567, 0.183535635471344, 0.17316695690155032, 0.18004019260406495, 0.14631819725036618, 0.1751968264579773, 0.20909786224365234, 0.18688936233520506, 0.1956960153579712, 0.20006891489028927, 0.1950473427772522, 0.19185942888259885, 0.20201292753219605, 0.20594280242919938, 0.19839051961898813, 0.21788009405136105, 0.2278808355331421, 0.2571516108512878, 0.36120665073394775, 0.3453397750854492, 0.30463116645812993, 0.3644863414764401, 0.4434503269195556, 0.2086756992340086, 0.2927264475822451, 0.42228546619415286]
[DEBUG] requests_per_second all_values: [0.11993183653135374, 0.11499268516937099, 0.11998489655832388, 0.12498433518048262, 0.12690559971067647, 0.11614118108926604, 0.11099371347911133, 0.09956905203197895, 0.10145421060449207, 0.09644241992851794, 0.19060979539264233, 0.19713745130938454, 0.19929173619155577, 0.20201694421305993, 0.19885003523964284, 0.2061242170619821, 0.2053389360537363, 0.20153727798303955, 0.19863766237446737, 0.20895474715240966, 0.1659564032841641, 0.17716032198501955, 0.18655784315127488, 0.16445831843420494, 0.17799569198860063, 0.1656697246483483, 0.17136570427435774, 0.16924928165493533, 0.172308583208887, 0.18162308533614802]
[DEBUG] service all_values: [14407, 13356, 15770, 14989, 15714, 16313, 12588, 13954, 12911, 15424, 146511, 149286, 152494, 141912, 148805, 147138, 148838, 148177, 141020, 156054, 27703, 29264, 29322, 33413, 36655, 35522, 33270, 29943, 32851, 37499]
[DEBUG] successful_requests all_values: [24, 23, 24, 25, 27, 26, 23, 23, 24, 26, 251, 256, 255, 256, 256, 262, 264, 258, 246, 256, 46, 50, 51, 51, 52, 50, 49, 49, 52, 55]
[DEBUG] slo_violation_count all_values: [0, 0, 0, 0, 0, 0, 1, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 2]
[DEBUG] fairness_ratio all_values: [0.029500174048364972, 0.029500174048364972, 0.026839757244483748, 0.031024171442810868, 0.03168653813630983, 0.03168038708376735, 0.06018368940931434, 0.02537255270831374, 0.05868613065866292, 0.0857996501678249, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.30000000000000004, 0.05672543358519157, 0.05672543358519157, 0.07280792572645794, 0.05768489252036147, 0.07063461863690175, 0.07389872652128626, 0.10042588590302982, 0.06705948749647268, 0.06062276871579261, 0.09680890871998518]
[DEBUG] credit all_values: [0, 0, 2, 4, 6, 8, 10, 12, 14, 16, 0, -2, -4, -6, -8, -10, -12, -14, -16, -18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
